{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","pages/Amis/info.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","defineProperty","getOwnPropertyDescriptors","defineProperties","Home","id","useLocation","state","useState","preview","setPreview","undefined","editorValue","setEditorValue","style","width","height","renderAmis","type","body","initApi","method","url","requestAdaptor","api","console","log","data","adaptor","payload","response","name","email","submitText","controls","label","onClick","value","onChange","JSON","stringify","_defineProperty","obj","configurable","writable"],"mappings":"oJAEA,SAASA,EAAQC,EAAQC,GACvB,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GACvCC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAEtDP,EAAKQ,KAAKC,MAAMT,EAAMG,GAGxB,OAAOH,EAGM,SAASU,EAAeC,GACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAE/CA,EAAI,EACNf,EAAQI,OAAOc,IAAS,GAAMC,SAAQ,SAAUC,GAC9C,OAAAC,EAAA,GAAeP,EAAQM,EAAKF,EAAOE,OAE5BhB,OAAOkB,0BAChBlB,OAAOmB,iBAAiBT,EAAQV,OAAOkB,0BAA0BJ,IAEjElB,EAAQI,OAAOc,IAASC,SAAQ,SAAUC,GACxChB,OAAOiB,eAAeP,EAAQM,EAAKhB,OAAOK,yBAAyBS,EAAQE,OAKjF,OAAON,E,qDC8DMU,UAzFF,WACX,IACMC,EADSC,cACMC,MAAcF,GAFlB,EAIaG,oBAAS,GAJtB,mBAIVC,EAJU,KAIDC,EAJC,OAKqBF,wBAASG,GAL9B,mBAKVC,EALU,KAKGC,EALH,KAOjB,OACE,yBAAKC,MAAO,CAAEC,MAAO,OAAQC,OAAQ,SAClCC,iBAAW,CACVC,KAAM,OACNC,KAAM,CACJ,CACED,KAAM,OACNC,KAAM,CACJC,QAAS,CACPC,OAAQ,MACRC,IAAI,6BAAD,OAA+BjB,GAClCkB,eAAgB,SAACC,GAKf,OAJAC,QAAQC,IAAI,uBACZD,QAAQC,IAAIF,GACZC,QAAQC,IAAIF,EAAIG,MAChBF,QAAQC,IAAI,uBACL,KAAKF,IAEdI,QAAS,SAACC,EAAcC,GAOtB,OANAL,QAAQC,IAAI,uBACZD,QAAQC,IAAIG,GACZJ,QAAQC,IAAII,GACZL,QAAQC,IAAI,uBACZhB,GAAW,GACXG,EAAegB,EAAQF,KAAKf,aACrB,KACFiB,KAITX,KAAM,OACNM,IAAK,CACHH,OAAQ,MACRC,IAAK,uBACLK,KAAM,CACJtB,KACA0B,KAAM,UACNC,MAAO,WACPpB,gBAGJqB,WAAY,eACZC,SAAU,CACR,CACEhB,KAAM,OACNa,KAAM,OACNI,MAAO,sBAET,CACEJ,KAAM,QACNb,KAAM,QACNiB,MAAO,yBAKf,CACEjB,KAAM,OACNC,KAAM,CACJgB,MAAO1B,EAAU,2BAAS,eAC1BS,KAAM,SACNkB,QAAS,WACP1B,GAAYD,SAOtB,kBAAC,SAAD,CACE4B,MAAOzB,EACP0B,SAAU,SAACD,GACTxB,EAAewB,GACfZ,QAAQC,IAAIW,GACZZ,QAAQC,IAAIa,KAAKC,UAAUH,KAE7B5B,QAASA,O,iCCzFF,SAASgC,EAAgBC,EAAK1C,EAAKqC,GAYhD,OAXIrC,KAAO0C,EACT1D,OAAOiB,eAAeyC,EAAK1C,EAAK,CAC9BqC,MAAOA,EACP/C,YAAY,EACZqD,cAAc,EACdC,UAAU,IAGZF,EAAI1C,GAAOqC,EAGNK,EAZT","file":"static/js/30.ac01ff35.chunk.js","sourcesContent":["import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","/* eslint-disable no-template-curly-in-string */\nimport React, { useState } from \"react\";\nimport { render as renderAmis } from \"amis\";\nimport { Editor } from \"amis-editor\";\nimport { useLocation } from \"react-router-dom\";\n\nconst Home = () => {\n  let location = useLocation();\n  const id = (location.state as any).id;\n\n  const [preview, setPreview] = useState(false);\n  const [editorValue, setEditorValue] = useState(undefined);\n\n  return (\n    <div style={{ width: \"100%\", height: \"100%\" }}>\n      {renderAmis({\n        type: \"page\",\n        body: [\n          {\n            type: \"page\",\n            body: {\n              initApi: {\n                method: \"get\",\n                url: `/api/test/form/getData?id=${id}`,\n                requestAdaptor: (api: any) => {\n                  console.log(\"-------------------\");\n                  console.log(api);\n                  console.log(api.data);\n                  console.log(\"-------------------\");\n                  return { ...api };\n                },\n                adaptor: (payload: any, response: any) => {\n                  console.log(\"+++++++++++++++++++\");\n                  console.log(payload);\n                  console.log(response);\n                  console.log(\"+++++++++++++++++++\");\n                  setPreview(true);\n                  setEditorValue(payload.data.editorValue);\n                  return {\n                    ...payload,\n                  };\n                },\n              },\n              type: \"form\",\n              api: {\n                method: \"put\",\n                url: \"/api/test/updateForm\",\n                data: {\n                  id,\n                  name: \"${name}\",\n                  email: \"${email}\",\n                  editorValue,\n                },\n              },\n              submitText: \"更新\",\n              controls: [\n                {\n                  type: \"text\",\n                  name: \"name\",\n                  label: \"姓名：\",\n                },\n                {\n                  name: \"email\",\n                  type: \"email\",\n                  label: \"邮箱：\",\n                },\n              ],\n            },\n          },\n          {\n            type: \"page\",\n            body: {\n              label: preview ? \"关闭预览\" : \"预览\",\n              type: \"action\",\n              onClick: () => {\n                setPreview(!preview);\n              },\n            },\n          },\n        ],\n      })}\n\n      <Editor\n        value={editorValue}\n        onChange={(value: any) => {\n          setEditorValue(value);\n          console.log(value);\n          console.log(JSON.stringify(value));\n        }}\n        preview={preview}\n      />\n    </div>\n  );\n};\n\nexport default Home;\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}"],"sourceRoot":""}